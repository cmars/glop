// This agent will ping-pong back and forth internally with its variables.
// Variables are set by shelling out back to glop from within a script that is
// executed by glop.

when (message init) {
  set ping true;
}

when (ping == true) #!/bin/bash
echo ping
export ADDR
glop setvar ping false
glop setvar pong true
!#

when (pong == true) #!/bin/bash
echo pong
export ADDR
glop setvar ping true
glop setvar pong false
!#
